$(document).ready(function(){function e(){u++,$.ajax({url:r,data:{index:u,index_phone:0,index_email:0,origin_client:f},dataType:"JSON",beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",c)}}).done(function(e){if(e&&e.success&&e.html){var n=$(e.html),t=$("#div-contact");n.find(".phone").mask(v,w),n.hide(),$("#div-not-contact").hide(),0==$(".row-contact","#div-contact").length?t.append(n).find(".row-contact:last").show(300):t.append(n).find(".row-contact:last").show()}})}function n(){$this=$(this),$this.closest(".row-contact").hide(0,function(){$(this).prev().prop("name","remove_contacts[]"),$(this).remove(),0==$(".row-contact","#div-contact").length&&$("#div-not-contact").show(300)})}function t(){var e=$(this),n=e.closest(".row-contact").find(".index").val();e.prop("disabled",!0),m++,$.ajax({url:s,data:{index:n,index_phone:m},dataType:"JSON",beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",c)}}).done(function(n){if(n&&n.success&&n.html){var t=$(n.html);t.find(".phone").mask(v,w),t.hide(),e.closest(".row-contact").find(".contact-phone").append(t).find(".row-contact-phone:last").show(300)}e.prop("disabled",!1)})}function o(){$(this).closest(".row-contact-phone").hide(300,function(){$(this).prev().prop("name","remove_phones[]"),$(this).remove()})}function a(){var e=$(this),n=e.closest(".row-contact").find(".index").val();e.prop("disabled",!0),h++,$.ajax({url:p,data:{index:n,index_email:h,origin_client:f},dataType:"JSON",beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",c)}}).done(function(n){if(n&&n.success&&n.html){var t=$(n.html);t.hide(),e.closest(".row-contact").find(".contact-email").append(t).find(".row-contact-email:last").show(300)}e.prop("disabled",!1)})}function i(){$(this).closest(".row-contact-email").hide(300,function(){$(this).prev().prop("name","remove_emails[]"),$(this).remove()})}function l(){var e=$(this).closest(".row-contact-phone");e.find(".number-phone").val().length>0||e.find(".type-phone").val().length>0?(e.closest(".row-contact").find(".name").prop("required",!0).prev().html('Nome<span style="color: red;"><sup>&bull;</sup></span>'),e.find(".number-phone").prop("required",!0).prev().html('Telefone<span style="color: red;"><sup>&bull;</sup></span>'),e.find(".type-phone").prop("required",!0).prev().html('Tipo<span style="color: red;"><sup>&bull;</sup></span>')):(e.find(".number-phone").prop("required",!1).prev().html("Telefone"),e.find(".type-phone").prop("required",!1).prev().html("Tipo"),e.closest(".row-contact").find(".form-control[required]").not(".name").length<=0&&e.closest(".row-contact").find(".name").prop("required",!1).prev().html("Nome"))}function d(){var e=$(this).closest(".row-contact-email");e.find(".email").val().length>0||e.find(".type-email").val().length>0?(e.closest(".row-contact").find(".name").prop("required",!0).prev().html('Nome<span style="color: red;"><sup>&bull;</sup></span>'),e.find(".email").prop("required",!0).prev().html('E-mail<span style="color: red;"><sup>&bull;</sup></span>'),e.find(".type-email").prop("required",!0).prev().html('Tipo<span style="color: red;"><sup>&bull;</sup></span>')):(e.find(".email").prop("required",!1).prev().html("E-mail"),e.find(".type-email").prop("required",!1).prev().html("Tipo"),e.closest(".row-contact").find(".form-control[required]").not(".name").length<=0&&e.closest(".row-contact").find(".name").prop("required",!1).prev().html("Nome"))}var c=$("input[name='_token']").val(),r=$("input[name='route_add_contact']").val(),s=$("input[name='route_add_contact_phone']").val(),p=$("input[name='route_add_contact_email']").val(),u=$("input[name='index_contact']").val()||0,m=$("input[name='index_phone']").val()||0,h=$("input[name='index_email']").val()||0,f=!0,v=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},w={onKeyPress:function(e,n,t,o){t.mask(v.apply({},arguments),o)}};$(".phone").mask(v,w),$(document).delegate("#add-contact","click",e),$(document).delegate(".remove-contact","click",n),$(document).delegate(".add_contact_phone","click",t),$(document).delegate(".remove-contact-phone","click",o),$(document).delegate(".add_contact_email","click",a),$(document).delegate(".remove-contact-email","click",i),$(document).delegate(".number-phone","change",l),$(document).delegate(".type-phone","change",l),$(document).delegate(".number-phone","input",l),$(document).delegate(".type-email","change",d),$(document).delegate(".email","input",d)}),$(document).ready(function(){function e(){o++,$.ajax({url:a,data:{index:o},dataType:"JSON",beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",t)}}).done(function(e){if(e&&e.success&&e.html){var n=$(e.html),t=$("#div-bank");n.hide(),$("#div-not-bank").hide(),0==$(".row-bank","#div-bank").length?t.append(n).find(".row-bank:last").show(300):t.append(n).find(".row-bank:last").show()}})}function n(){$this=$(this),$this.closest(".row-bank").hide(0,function(){$(this).prev().prop("name","remove_banks[]"),$(this).remove(),0==$(".row-bank","#div-bank").length&&$("#div-not-bank").show(300)})}var t=$("input[name='_token']").val(),o=$("input[name='index_bank']").val()||0,a=$("input[name='route_add_bank']").val();$(document).delegate("#add-bank","click",e),$(document).delegate(".remove-bank","click",n)}),$(document).ready(function(){function e(){i++,$.ajax({url:l,data:{index:i},dataType:"JSON",beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",a)}}).done(function(e){if(e&&e.success&&e.html){var n=$(e.html),t=$("#div-file");n.hide(),$("#div-not-file").hide(),0==$(".row-file","#div-file").length?t.append(n).find(".row-file:last").show(300):t.append(n).find(".row-file:last").show()}})}function n(){$this=$(this),$this.closest(".row-file").hide(0,function(){$(this).prev().prop("name","remove_files[]"),$(this).remove(),0==$(".row-file","#div-file").length&&$("#div-not-file").show(300)})}function t(){var e=$(this);""!=e.val()&&(e.parent().addClass("btn-primary").removeClass("btn-default"),e.parent().attr("title",e.val()))}function o(e){e.preventDefault();var n=$(this);if(this.files&&this.files.length>0){var t=this.files[0];t.size>5242880?n.closest(".row-file").find(".file-name").addClass("focus").val("").attr("placeholder","Tamanho m√°ximo permitido 5MB"):n.closest(".row-file").find(".file-name").val(t.name.slice(0,-4)).removeClass("focus")}}var a=$("input[name='_token']").val(),i=$("input[name='index_file']").val()||0,l=$("input[name='route_add_file']").val();$(document).delegate("#add-file","click",e),$(document).delegate(".remove-file","click",n),$(document).delegate(".item-file","change",t),$(document).delegate(".item-file","change",o)});